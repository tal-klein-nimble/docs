---
title: "Instructions Mode"
description: "Full control over browser actions with predefined steps"
---

Instructions mode gives you full control over the sequence of actions performed in the browser, ensuring predictable and repeatable results. You manually specify each step like click, scroll, wait, or type.

Common uses:

- **Load more content**: Click "Show more" buttons or scroll to reveal additional items.
- **Set filters**: Select dropdowns, checkboxes, or date ranges to refine displayed data.
- **Submit searches**: Enter search terms and submit forms to access results pages.
- **Trigger lazy-loaded data**: Scroll to load images, products, or infinite feeds.

## When to use

Use Instructions mode when you need:

- **Low cost**: Pay per driver usage and API calls, not token consumption
- **Predictable execution**: Same steps run every time
- **Full control**: Specify exact actions and sequences
- **Fast performance**: No LLM inference overhead

<Note>
  Instructions flows may break when page structure or selectors change. Monitor and update your flows as needed.
</Note>

## Supported parameters

Available in - Extract.

| **Parameter**     | **Type**       | **Description**                                                | **Default** |
| :---------------- | :------------- | :------------------------------------------------------------- | :---------: |
| `render`          | Boolean        | Enable or disable JS rendering (required to be `true`)         | `false`     |
| `browser_actions` | List (Objects) | List of sequenced page interactions to be executed on the page | -           |

### Available actions

| Action            | Description                                        |
| ----------------- | -------------------------------------------------- |
| `goto`            | Navigate to a URL                                  |
| `sleep`           | Add a delay between actions                        |
| `wait_for`        | Wait until a selector appears on the page          |
| `wait_for_url`    | Wait for navigation to URL matching a pattern      |
| `click`           | Wait for an element and click it                   |
| `press`           | Press keyboard key (Enter, Tab, Escape, etc.)      |
| `fill`            | Input text using paste (fast) or type (keystrokes) |
| `scroll`          | Scroll by pixels, to element, or auto-scroll       |
| `infinite_scroll` | Handle lazy-loading pages with infinite scroll     |
| `screenshot`      | Capture a screenshot of the page                   |
| `get_cookies`     | Collect cookies from the page                      |
| `http_request`    | Execute additional HTTP requests                   |

<Note>
  Browser Actions require page rendering to be enabled (`render: true`). All operations execute sequentially within a global **240-second timeout**.
</Note>

## Usage

### Navigate to URL

Navigate to a different URL during the browser session.

**Parameters:**

**Direct form** - Pass URL as a string:

- `goto` (required) - URL to navigate to

**Extended form** - Use object with options:

- `url` (required) - URL to navigate to (string)
- `timeout` (optional) - Maximum wait time in milliseconds (number, default: 1000)
- `referer` (optional) - Referer header to send (string)
- `wait_until` (optional) - Navigation wait condition: `'load'`, `'domcontentloaded'`, `'networkidle'`, or `'commit'`

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - simple navigation
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "goto": "https://www.example.com/products"  # Navigate to products page
        }
    ]
})

# Extended form - with wait condition
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "goto": {
                "url": "https://www.example.com/products",
                "wait_until": "networkidle",
                "timeout": 5000,
                "referer": "https://www.google.com"
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - simple navigation
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      goto: "https://www.example.com/products"  // Navigate to products page
    }
  ]
});

// Extended form - with wait condition
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      goto: {
        url: "https://www.example.com/products",
        wait_until: "networkidle",
        timeout: 5000,
        referer: "https://www.google.com"
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Direct form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "goto": "https://www.example.com/products"
    }]
}'

# Extended form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "goto": {
            "url": "https://www.example.com/products",
            "wait_until": "networkidle",
            "timeout": 5000,
            "referer": "https://www.google.com"
        }
    }]
}'
```

</CodeGroup>

### Sleep (delay)

Add a delay between actions to simulate human behavior or allow elements to load.

**Parameters:**

**Direct form** - Pass duration as a string:

- `sleep` (required) - Duration string (e.g., "2s", "500ms", "1.5s")

**Extended form** - Use object with options:

- `duration` (required) - Duration string (e.g., "2s", "500ms", "1.5s")
- `required` (optional) - Set to `false` to make this step optional (boolean, default: `true`)

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - simple delay
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "sleep": "2s"  # Wait for 2 seconds
        }
    ]
})

# Extended form - with options
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "sleep": {
                "duration": "500ms",
                "required": False
            }
        }
    ]
})
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - simple delay
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      sleep: "2s"  // Wait for 2 seconds
    }
  ]
});

// Extended form - with options
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      sleep: {
        duration: "500ms",
        required: false
      }
    }
  ]
});
```


```bash cURL
# Direct form
curl -X POST 'https://api.webit.live/api/v1/extract' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "sleep": "2s"
    }]
}'

# Extended form
curl -X POST 'https://api.webit.live/api/v1/extract' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "sleep": {
            "duration": "500ms",
            "required": false
        }
    }]
}'
```

</CodeGroup>

### Wait for selector

Wait until a specific element appears on the page before continuing.

**Parameters:**

**Direct form** - Pass selectors array directly:

- `wait_for` (required) - Array of CSS selectors to wait for (any one matching triggers success)

**Extended form** - Use object with options:

- `selectors` (required) - Array of CSS selectors to wait for (any one matching triggers success)
- `state` (optional) - Element state to wait for: `'attached'` (present in DOM), `'detached'` (not in DOM), `'visible'` (present and visible, default), or `'hidden'` (not visible)
- `timeout` (optional) - Duration string (e.g., "2s", "500ms", "1.5s", default: "1s")

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - simple selector wait
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "wait_for": ["body", "#content"]  # Wait for any of these selectors
        }
    ]
})

# Extended form - with state and timeout options
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "wait_for": {
                "selectors": [".dynamic-content", "#loaded"],
                "state": "visible",  # Wait for element to be visible
                "timeout": "5s"
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - simple selector wait
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      wait_for: ["body", "#content"]  // Wait for any of these selectors
    }
  ]
});

// Extended form - with state and timeout options
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      wait_for: {
        selectors: [".dynamic-content", "#loaded"],
        state: "visible",  // Wait for element to be visible
        timeout: "5s"
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Direct form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "wait_for": ["body", "#content"]
    }]
}'

# Extended form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "wait_for": {
            "selectors": [".dynamic-content", "#loaded"],
            "state": "visible",
            "timeout": "5s"
        }
    }]
}'
```

</CodeGroup>

### Wait for URL

Wait for navigation to a URL matching a pattern or glob.

**Parameters:**

**Direct form** - Pass URL pattern as a string:

- `wait_for_url` (required) - URL pattern or glob to match (exact match if no wildcards)

**Extended form** - Use object with options:

- `url` (required) - URL pattern or glob to match (string). Without wildcards, waits for exact URL match.
- `wait_until` (optional) - Navigation wait condition: `'load'`, `'domcontentloaded'`, `'networkidle'`, or `'commit'`
- `timeout` (optional) - Maximum wait time (Duration string, default: "1s")

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - exact URL match
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "wait_for_url": "https://www.example.com/products"  # Wait for exact URL
        }
    ]
})

# Direct form - glob pattern
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "wait_for_url": "**\/products\/*"  # Wait for any products page
        }
    ]
})

# Extended form - with options
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "wait_for_url": {
                "url": "**\/checkout\/*",
                "wait_until": "networkidle",
                "timeout": "10s"
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - exact URL match
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      wait_for_url: "https://www.example.com/products"  // Wait for exact URL
    }
  ]
});

// Direct form - glob pattern
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      wait_for_url: "**/products/*"  // Wait for any products page
    }
  ]
});

// Extended form - with options
const result3 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      wait_for_url: {
        url: "**/checkout/*",
        wait_until: "networkidle",
        timeout: "10s"
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Direct form - exact URL
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "wait_for_url": "https://www.example.com/products"
    }]
}'

# Direct form - glob pattern
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "wait_for_url": "**/products/*"
    }]
}'

# Extended form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "wait_for_url": {
            "url": "**/checkout/*",
            "wait_until": "networkidle",
            "timeout": "10s"
        }
    }]
}'
```

</CodeGroup>

### Click

Wait for an element to appear and click it.

**Parameters:**

**Direct form** - Pass selectors array directly:

- `click` (required) - Array of CSS selectors (clicks first matching element)

**Extended form** - Use object with options:

- `selectors` (required) - Array of CSS selectors (clicks first matching element)
- `offset_x` (optional) - X offset in pixels from top-left corner of element (number, default: center)
- `offset_y` (optional) - Y offset in pixels from top-left corner of element (number, default: center)
- `button` (optional) - Mouse button to use: `'left'`, `'right'`, or `'middle'` (default: `'left'`)
- `duration` (optional) - Delay between mousedown and mouseup (Duration string, default: "50ms")
- `visible` (optional) - Wait for element to be visible (boolean)
- `scroll` (optional) - Scroll element into view before clicking (boolean, default: `true`)
- `click_count` (optional) - Number of clicks: 1 for single, 2 for double (number, default: 1)
- `delay` (optional) - Alternative delay between mousedown and mouseup (Duration string)
- `steps` (optional) - Number of mouse movement steps (number)
- `timeout` (optional) - Maximum wait time for element (Duration string)
- `force` (optional) - Skip actionability checks (boolean, default: `false`)
- `modifiers` (optional) - Modifier keys to hold: `['Alt']`, `['Control']`, `['Meta']`, `['Shift']` (array)
- `required` (optional) - Set to `false` to make this step optional (boolean, default: `true`)

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - simple click
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "click": ["button.load-more", "#show-more"]  # Click first matching element
        }
    ]
})

# Extended form - with options
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "click": {
                "selectors": ["button.load-more"],
                "timeout": "20s",
                "delay": "500ms",
                "scroll": True,
                "visible": True,
                "click_count": 2  # Double-click
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - simple click
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      click: ["button.load-more", "#show-more"]  // Click first matching element
    }
  ]
});

// Extended form - with options
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      click: {
        selectors: ["button.load-more"],
        timeout: "20s",
        delay: "500ms",
        scroll: true,
        visible: true,
        click_count: 2  // Double-click
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Direct form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "click": ["button.load-more", "#show-more"]
    }]
}'

# Extended form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "click": {
            "selectors": ["button.load-more"],
            "timeout": "20s",
            "delay": "500ms",
            "scroll": true,
            "visible": true,
            "click_count": 2
        }
    }]
}'
```

</CodeGroup>

### Press

Press a keyboard key like Enter, Tab, Escape, or arrow keys.

**Parameters:**

**Direct form** - Pass key name as a string:

- `press` (required) - Key name to press (e.g., "Enter", "Tab", "Escape", "ArrowDown")

**Extended form** - Use object with options:

- `key` (required) - Key name to press (string)
- `delay` (optional) - Time to wait between keydown and keyup (Duration string, default: "0ms")
- `timeout` (optional) - Maximum wait time in milliseconds (number, default: 10000)

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - press Enter key
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "press": "Enter"  # Press Enter key
        }
    ]
})

# Extended form - press with delay
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "press": {
                "key": "Tab",
                "delay": "100ms",
                "timeout": 5000
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - press Enter key
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      press: "Enter"  // Press Enter key
    }
  ]
});

// Extended form - press with delay
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      press: {
        key: "Tab",
        delay: "100ms",
        timeout: 5000
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Direct form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "press": "Enter"
    }]
}'

# Extended form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "press": {
            "key": "Tab",
            "delay": "100ms",
            "timeout": 5000
        }
    }]
}'
```

</CodeGroup>

### Fill

Input text into an element using paste (fast) or type (simulates keystrokes).

**Parameters:**

**Extended form only** - No direct form available:

- `selectors` (required) - Array of CSS selectors for the input element
- `text` (required) - Text to input into the element (string)
- `method` (optional) - Input method: `'paste'` (default, faster) or `'type'` (simulates keystrokes)
- `interval` (optional) - Typing interval in milliseconds (only for `method: "type"`, number)
- `focus` (optional) - Focus element before input (boolean)
- `timeout` (optional) - Maximum wait time for element (Duration string)

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Paste method (default, faster)
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "fill": {
                "selectors": ["input[type='search']", "#search-input"],
                "text": "web scraping tools",
                "method": "paste",  # Default method
                "focus": True,
                "timeout": "10s"
            }
        }
    ]
})

# Type method (simulates keystrokes)
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "fill": {
                "selectors": ["input[type='search']"],
                "text": "web scraping",
                "method": "type",
                "interval": 100,  # 100ms between keystrokes
                "focus": True
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Paste method (default, faster)
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      fill: {
        selectors: ["input[type='search']", "#search-input"],
        text: "web scraping tools",
        method: "paste",  // Default method
        focus: true,
        timeout: "10s"
      }
    }
  ]
});

// Type method (simulates keystrokes)
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      fill: {
        selectors: ["input[type='search']"],
        text: "web scraping",
        method: "type",
        interval: 100,  // 100ms between keystrokes
        focus: true
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Paste method (default)
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "fill": {
            "selectors": ["input[type='\''search'\'']", "#search-input"],
            "text": "web scraping tools",
            "method": "paste",
            "focus": true,
            "timeout": "10s"
        }
    }]
}'

# Type method
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "fill": {
            "selectors": ["input[type='\''search'\'']"],
            "text": "web scraping",
            "method": "type",
            "interval": 100,
            "focus": true
        }
    }]
}'
```

</CodeGroup>

### Scroll

Scroll the page by pixels, to a specific element, or continuously with auto-scroll mode.

**Parameters:**

**Direct form** - Pass number for Y-axis pixel scroll:

- `scroll` (required) - Number of pixels to scroll vertically (positive = down)

**Extended form - Scroll by pixels:**

- `y` (optional) - Scroll Y pixels (positive = down, number)
- `x` (optional) - Scroll X pixels (positive = right, number)
- `container` (optional) - Selectors array for scrolling within a container element

**Extended form - Scroll to element:**

- `to` (required) - Selectors array of element to scroll to
- `visible` (optional) - Wait for element to be visible (boolean)
- `timeout` (optional) - Maximum wait time (Duration string)
- `container` (optional) - Selectors array for scrolling within a container element

**Extended form - Auto scroll (continuous):**

- `mode` (required) - Set to `"auto"` for continuous scrolling
- `duration` (required) - Duration to scroll (Duration string)
- `interval` (optional) - Milliseconds between scroll steps (number)
- `step` (optional) - Pixels per scroll step (number)
- `pause_on` (optional) - Selectors array to pause scrolling when element appears
- `click_on` (optional) - Selectors array to click during auto scroll (e.g., "Load more" button)
- `idle_timeout` (optional) - Stop after idle for this duration (Duration string)
- `container` (optional) - Selectors array for scrolling within a container element

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - scroll Y by 500px
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "scroll": 500  # Scroll down 500 pixels
        }
    ]
})

# Extended form - scroll by pixels
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "scroll": {
                "x": 0,
                "y": 1000
            }
        }
    ]
})

# Extended form - scroll to element
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "scroll": {
                "to": ["#footer", ".bottom-section"],
                "visible": True,
                "timeout": "5s"
            }
        }
    ]
})

# Extended form - auto scroll (continuous)
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "scroll": {
                "mode": "auto",
                "duration": "25s",
                "interval": 1000,
                "step": 300,
                "idle_timeout": "5s"
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - scroll Y by 500px
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      scroll: 500  // Scroll down 500 pixels
    }
  ]
});

// Extended form - scroll by pixels
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      scroll: {
        x: 0,
        y: 1000
      }
    }
  ]
});

// Extended form - scroll to element
const result3 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      scroll: {
        to: ["#footer", ".bottom-section"],
        visible: true,
        timeout: "5s"
      }
    }
  ]
});

// Extended form - auto scroll (continuous)
const result4 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      scroll: {
        mode: "auto",
        duration: "25s",
        interval: 1000,
        step: 300,
        idle_timeout: "5s"
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Direct form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "scroll": 500
    }]
}'

# Extended form - scroll by pixels
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "scroll": {
            "x": 0,
            "y": 1000
        }
    }]
}'

# Extended form - scroll to element
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "scroll": {
            "to": ["#footer", ".bottom-section"],
            "visible": true,
            "timeout": "5s"
        }
    }]
}'

# Extended form - auto scroll
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "scroll": {
            "mode": "auto",
            "duration": "25s",
            "interval": 1000,
            "step": 300,
            "idle_timeout": "5s"
        }
    }]
}'
```

</CodeGroup>

### Infinite scroll

Handle lazy-loading pages that reveal content as you scroll, like social media feeds.

**Parameters:**

- `duration` (required) - Time interval for continuous scrolling in milliseconds
- `loading_selector` (optional) - CSS selector for loading/spinner indicators
- `delay_after_scroll` (optional) - Time to wait between scrolls in milliseconds
- `click_on_selector` (optional) - CSS selector to click after each scroll (e.g., "Load more" button)
- `idle_timeout` (optional) - Wait time after scroll; terminates if no page height change in milliseconds
- `scroll_in_element` (optional) - CSS selector of container to scroll within
- `required` (optional) - Set to `false` to make this step optional and continue execution on failure (boolean, default: `true`)

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "infinite_scroll": {
                "loading_selector": ".spinner",
                "delay_after_scroll": 2000,
                "duration": 15000,
                "idle_timeout": 5000
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      infinite_scroll: {
        loading_selector: ".spinner",
        delay_after_scroll: 2000,
        duration: 15000,
        idle_timeout: 5000
      }
    }
  ]
});

console.log(result);
```


```bash cURL
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "infinite_scroll": {
            "loading_selector": ".spinner",
            "delay_after_scroll": 2000,
            "duration": 15000,
            "idle_timeout": 5000
        }
    }]
}'
```

</CodeGroup>

<Note>
  Use `loading_selector` to track loading indicators for reliable scrolling. Alternatively, use `delay_after_scroll` and `duration` for time-based scrolling.
</Note>

### Capture screenshot

Take a screenshot of the page in PNG, JPEG, or WebP format.

**Parameters:**

- `full_page` (optional) - Capture entire page or just visible viewport (boolean, default: `false`)
- `format` (optional) - Image format: `png`, `jpeg`, or `webp` (default: `png`)
- `timeout` (optional) - Maximum time for screenshot processing in milliseconds (default: `30000`)
- `required` (optional) - Set to `false` to make this step optional and continue execution on failure (boolean, default: `true`)

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "screenshot": {
                "full_page": True,
                "format": "jpeg",
                "timeout": 30000
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      screenshot: {
        full_page: true,
        format: "jpeg",
        timeout: 30000
      }
    }
  ]
});

console.log(result);
```


```bash cURL
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "screenshot": {
            "full_page": true,
            "format": "jpeg",
            "timeout": 30000
        }
    }]
}'
```

</CodeGroup>

### Collect cookies

Capture and store cookies from the page.

**Parameters:**

- `timeout` (optional) - Time to wait for new cookies before storage in milliseconds (default: `1000`)
- `required` (optional) - Set to `false` to make this step optional and continue execution on failure (boolean, default: `true`)

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "get_cookies": {
                "timeout": 1000
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      get_cookies: {
        timeout: 1000
      }
    }
  ]
});

console.log(result);
```


```bash cURL
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "get_cookies": {
            "timeout": 1000
        }
    }]
}'
```

</CodeGroup>

### Execute HTTP requests

Make HTTP requests from page context to internal APIs.

**Parameters:**

**Direct form** - Pass URL as a string:

- `http_request` (required) - URL for the HTTP request (GET method)

**Extended form** - Use object with options:

- `url` (required) - Target URL for the HTTP request (string)
- `method` (optional) - HTTP method: `'GET'`, `'POST'`, `'PUT'`, `'DELETE'`, etc. (default: `'GET'`)
- `headers` (optional) - Request headers as key-value object (default: `{}`)
- `body` (optional) - Request body as string
- `timeout` (optional) - Request timeout (Duration string, default: "5s")

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

# Direct form - simple GET request
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "http_request": "https://api.example.com/data"  # Simple GET request
        }
    ]
})

# Extended form - POST with headers and body
result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "http_request": {
                "url": "https://api.example.com/data",
                "method": "POST",
                "headers": {
                    "Content-Type": "application/json"
                },
                "body": '{"key": "value"}',
                "timeout": "10s"
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

// Direct form - simple GET request
const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      http_request: "https://api.example.com/data"  // Simple GET request
    }
  ]
});

// Extended form - POST with headers and body
const result2 = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      http_request: {
        url: "https://api.example.com/data",
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: '{"key": "value"}',
        timeout: "10s"
      }
    }
  ]
});

console.log(result);
```


```bash cURL
# Direct form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "http_request": "https://api.example.com/data"
    }]
}'

# Extended form
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [{
        "http_request": {
            "url": "https://api.example.com/data",
            "method": "POST",
            "headers": {
                "Content-Type": "application/json"
            },
            "body": "{\"key\": \"value\"}",
            "timeout": "10s"
        }
    }]
}'
```

</CodeGroup>

<Note>
  The first `http_request` in a `browser_actions` is free. Starting from the second request, each additional `http_request` is billed as a VX6 request.
</Note>

### Chaining actions

You can chain multiple actions together in the `browser_actions` array. They execute sequentially.

<CodeGroup>

```python Python
from nimble import Nimble

nimble = Nimble(api_key="YOUR-API-KEY")

result = nimble.extract({
    "url": "https://www.example.com",
    "render": True,
    "browser_actions": [
        {
            "fill": {
                "selectors": ["input[type='search']"],
                "text": "laptop"
            }
        },
        {
            "sleep": "1s"
        },
        {
            "click": {
                "selectors": ["button[type='submit']"]
            }
        },
        {
            "wait_for": {
                "selectors": [".results"],
                "timeout": "5s"
            }
        }
    ]
})

print(result)
```


```node Node.js
import { Nimble } from "@nimbleway/sdk";

const nimble = new Nimble({ apiKey: "YOUR-API-KEY" });

const result = await nimble.extract({
  url: "https://www.example.com",
  render: true,
  browser_actions: [
    {
      fill: {
        selectors: ["input[type='search']"],
        text: "laptop"
      }
    },
    {
      sleep: "1s"
    },
    {
      click: {
        selectors: ["button[type='submit']"]
      }
    },
    {
      wait_for: {
        selectors: [".results"],
        timeout: "5s"
      }
    }
  ]
});

console.log(result);
```


```bash cURL
curl -X POST 'https://api.webit.live/api/v1/realtime/web' \
--header 'Authorization: Bearer <YOUR-API-KEY>' \
--header 'Content-Type: application/json' \
--data-raw '{
    "url": "https://www.example.com",
    "render": true,
    "browser_actions": [
        {
            "fill": {
                "selectors": ["input[type='\''search'\'']"],
                "text": "laptop"
            }
        },
        {
            "sleep": "1s"
        },
        {
            "click": {
                "selectors": ["button[type='\''submit'\'']"]
            }
        },
        {
            "wait_for": {
                "selectors": [".results"],
                "timeout": "5s"
            }
        }
    ]
}'
```

</CodeGroup>

## Example response

When browser actions complete successfully, you'll receive the final page state along with any data captured.

The response includes:

- **data**: All related extacted data
  - **data.html**: Final DOM state after all actions
  - **data.screenshot**: Page screenshot if used
  - **data.cookies**: Collected cookies if `get_cookies` was used by order
  - **data.http_request**: HTTP response if `http_request` was used by order
- **metadata**: Execution details including task id, driver used, execution time and more
  - **metadata.browser_actions**: The browser actions results per step

```json
{
  "status": "success",
  "data": {
    "html": "<!DOCTYPE html><html>...</html>",
    "screenshot": "base64_encoded_image_data",
    "cookies": [
      {
        "name": "session_id",
        "value": "abc123xyz",
        "domain": ".example.com",
        "path": "/",
        "expires": 1735689600,
        "httpOnly": true,
        "secure": true
      }
    ],
	"http_response":[
	  {
		"status": 200,
		"duration": 235,
		"method":"POST",
		"url":"https://api.example.com/data",
		"headers":{},
		"body":"..."
	  }
	]
  },
  "metadata": {
	"task_id":".....",
	"country":"US",
    "driver": "vx10",
    "execution_time_ms": 3450,
	"browser_actions":[
	  {
		"status":"success",
		"action":"wait",
		"duration":300
  	  },
	  {
		"status":"success",
		"action":"type",
		"duration":300
  	  }
	]
  }
}
```

## Best practices

### Use required parameter for optional steps

**Make non-critical steps optional:**

```python
# ✅ Continue even if optional element isn't found
browser_actions = [
    {
        "click": {
            "selectors": [".cookie-banner button"],
            "required": False  # Don't fail if banner doesn't exist
        }
    },
    {
        "click": {
            "selectors": [".submit-button"],
            "required": True  # This is critical
        }
    }
]

# ❌ Fail entire request if cookie banner isn't found
browser_actions = [
    {
        "click": {
            "selectors": [".cookie-banner button"]
            # required defaults to True
        }
    }
]
```

### Chain actions with appropriate waits

**Add delays between actions:**

```python
# ✅ Wait for content to load between actions
browser_actions = [
    {
        "click": {
            "selectors": ["button.load-more"]
        }
    },
    {
        "sleep": "2s"  # Wait for new content to load
    },
    {
        "wait_for": {
            "selectors": [".new-content"]
        }
    }
]

# ❌ No wait - may act on stale content
browser_actions = [
    {
        "click": {
            "selectors": ["button.load-more"]
        }
    },
    {
        "click": {
            "selectors": [".new-content button"]  # May not exist yet
        }
    }
]
```

### Use specific selectors

**Be precise with CSS selectors:**

```python
# ✅ Specific selector
selector = "button[data-testid='submit-form']"

# ✅ Unique class or ID
selector = "#unique-submit-button"

# ❌ Too generic - may match wrong element
selector = "button"

# ❌ Fragile - breaks with style changes
selector = ".btn.btn-primary.btn-lg.mt-4"
```

### Optimize infinite scroll parameters

**Set appropriate scroll limits:**

```python
# ✅ Controlled scrolling with limits
infinite_scroll = {
    "duration": 10000,  # 10 seconds max
    "loading_selector": ".spinner",
    "idle_timeout": 3000,  # Stop if no change for 3s
    "delay_after_scroll": 1000  # Wait between scrolls
}

# ❌ Excessive scrolling - slow and costly
infinite_scroll = {
    "duration": 60000,  # 60 seconds - too long
    "delay_after_scroll": 100  # Too fast - may miss content
}
```